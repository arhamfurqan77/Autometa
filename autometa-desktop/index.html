<!doctype html>
<html>
  <head>
    <title>Autometa</title>
  </head>
  <body>
    <h1>Autometa Recorder</h1>

    <input type="text" id="urlInput" placeholder="Enter URL" />
    <button id="startBtn">Start Recording</button>
    <button id="saveBtn">Stop & Save</button>
    <p id="flashMessage" style="color: black; display: none">
      Recording Saved!
    </p>

    <script>
      const { ipcRenderer } = require("electron");

      const flash = document.getElementById("flashMessage");

      document.getElementById("startBtn").addEventListener("click", () => {
        const url = document.getElementById("urlInput").value;
        ipcRenderer.send("open-site", url);
      });

      document.getElementById("saveBtn").addEventListener("click", () => {
        ipcRenderer.send("save-recording");
      });

      ipcRenderer.on("recording-saved", () => {
        flash.style.display = "block";
        setTimeout(() => {
          flash.style.display = "none";
        }, 2000);
      });
    </script>
  </body>
</html>
